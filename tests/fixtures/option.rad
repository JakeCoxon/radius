import compiler for Option, Some, None

fn is_some!(T)(x: Option!T) -> bool @inline:
  if x is Some:
    return true
  return false

fn main():
  let a : Option!int

  a = 78
  let b : Option!int = 124

  let x = None!int()
  let y = Some!int(10)

  y = Some!int(32)

  if y is Some:
    print(y.value + 123)
  else:
    print("None")

  print(x)
  print(y)

  let z = x.orelse 69
  let w = y.orelse 100
  print(z + w)

  # let asd = { x? + y? }.orelse 3

  # let x = {
  #   x? + y?
  # } if true else 0

  if x.is_some:
    print(x)
  else:
    print("None", x)


  let u = x.orelse return
  print(u)
  print("Should not print")

  # print(x)
